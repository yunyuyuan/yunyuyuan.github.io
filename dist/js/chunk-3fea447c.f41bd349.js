(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3fea447c"],{3835:function(n,t,i){"use strict";function e(n){if(Array.isArray(n))return n}i.d(t,"a",(function(){return c}));i("a4d3"),i("e01a"),i("d28b"),i("d3b7"),i("3ca3"),i("ddb0");function r(n,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(n)){var i=[],e=!0,r=!1,a=void 0;try{for(var o,c=n[Symbol.iterator]();!(e=(o=c.next()).done);e=!0)if(i.push(o.value),t&&i.length===t)break}catch(s){r=!0,a=s}finally{try{e||null==c["return"]||c["return"]()}finally{if(r)throw a}}return i}}var a=i("06c5");function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(n,t){return e(n)||r(n,t)||Object(a["a"])(n,t)||o()}},"54fd":function(n,t,i){},"7db0":function(n,t,i){"use strict";var e=i("23e7"),r=i("b727").find,a=i("44d2"),o=i("ae40"),c="find",s=!0,f=o(c);c in[]&&Array(1)[c]((function(){s=!1})),e({target:"Array",proto:!0,forced:s||!f},{find:function(n){return r(this,n,arguments.length>1?arguments[1]:void 0)}}),a(c)},"93c6":function(n,t,i){"use strict";i.r(t);var e=function(){var n=this,t=n.$createElement,i=n._self._c||t;return i("div",{staticClass:"config",attrs:{flex:""}},[i("div",{staticClass:"head",attrs:{flex:""}},[i("svg-icon",{attrs:{name:"config"}}),i("b",[n._v("修改配置信息")])],1),i("div",{staticClass:"list",attrs:{flex:""}},[n._l(n.keys,(function(t){return i("float-input",{attrs:{name:t,value:n.info[t]||"",id:t,size:1,isArea:-1!==["describe","aboutme"].indexOf(t)},on:{input:n.input}})})),i("label",{attrs:{flex:""}},[i("span",{class:{active:"img"===n.info.backgroundImg},on:{click:function(t){return n.changeBg("img")}}},[n._v("图片背景")]),i("span",{class:{active:"color"===n.info.backgroundImg},on:{click:function(t){return n.changeBg("color")}}},[n._v("彩色背景")]),i("span",{class:{active:"random"===n.info.backgroundImg},on:{click:function(t){return n.changeBg("random")}}},[n._v("随机")])]),i("div",{staticClass:"friends",attrs:{flex:""}},[n._l(n.info.friends,(function(t){return i("div",{key:t.id,staticClass:"list-item",attrs:{flex:""}},[i("float-input",{attrs:{name:"简介",value:t.summary,id:t.id,size:.85},on:{input:n.friendsSummary}}),i("float-input",{attrs:{name:"github",value:t.github,id:t.id,size:.85},on:{input:n.friendsGithub}}),i("float-input",{attrs:{name:"网站",value:t.site,id:t.id,size:.85},on:{input:n.friendsSite}}),i("single-button",{staticClass:"del-btn",attrs:{text:"删除"},nativeOn:{click:function(i){return n.friendsDel(t)}}})],1)})),i("loading-button",{attrs:{loading:!1,icon:"add",text:"添加",size:1.1},nativeOn:{click:function(t){return n.friendsNew(t)}}})],2)],2),i("loading-button",{attrs:{loading:n.updating,text:"上传",icon:"save"},nativeOn:{click:function(t){return n.commitConfig(t)}}})],1)},r=[],a=(i("7db0"),i("4160"),i("c975"),i("d81d"),i("a434"),i("d3b7"),i("159b"),i("ddb0"),i("b85c")),o=(i("96cf"),i("1da1")),c=i("6b75");function s(n){if(Array.isArray(n))return Object(c["a"])(n)}i("a4d3"),i("e01a"),i("d28b"),i("a630"),i("3ca3");function f(n){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(n))return Array.from(n)}var u=i("06c5");function d(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(n){return s(n)||f(n)||Object(u["a"])(n)||d()}var g=i("3835"),b=i("44b8"),m=i("fa7d"),h=i("8e8da"),p=i("2a7d"),v={name:"Config",components:{SingleButton:p["a"],LoadingButton:h["a"],FloatInput:b["a"]},data:function(){return{updating:!1,info:{},keys:["name","describe","aboutme","copyright","github","email"]}},computed:{config:function(){return this._config()},gitUtil:function(){return this._gitUtil()}},watch:{config:{immediate:!0,deep:!0,handler:function(){this.info=JSON.parse(JSON.stringify(this.config)),this.info.friends&&this.info.friends.forEach((function(n,t){n.id=t}))}}},inject:["_config","_gitUtil"],methods:{input:function(n){this.info[n[0]]=n[1]},changeBg:function(n){this.info.backgroundImg=n},friendsSummary:function(n){var t=Object(g["a"])(n,2),i=t[0],e=t[1];this.info.friends.find((function(n){return n.id===i})).summary=e},friendsGithub:function(n){var t=Object(g["a"])(n,2),i=t[0],e=t[1];this.info.friends.find((function(n){return n.id===i})).github=e},friendsSite:function(n){var t=Object(g["a"])(n,2),i=t[0],e=t[1];this.info.friends.find((function(n){return n.id===i})).site=e},friendsDel:function(n){this.info.friends.splice(this.info.friends.indexOf(n),1)},friendsNew:function(){this.info.friends.push({summary:"",github:"",site:"",id:Math.max.apply(Math,l(this.info.friends.map((function(n){return n.id}))))+1})},commitConfig:function(){var n=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var i,e,r,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!n.gitUtil){t.next=13;break}n.updating=!0,i=Object(a["a"])(n.keys);try{for(i.s();!(e=i.n()).done;)r=e.value,n.config[r]=n.info[r]}catch(c){i.e(c)}finally{i.f()}return n.config.backgroundImg=n.info.backgroundImg,n.config.friends=n.info.friends.map((function(n){var t={};for(var i in n)"id"!==i&&(t[i]=n[i]);return t})),t.next=8,n.gitUtil.updateJsonFile("config.json",n.config);case 8:o=t.sent,n.updating=!1,o[0]?n.$message.success("更新成功!"):n.$message.error(Object(m["c"])(o[1])),t.next=15;break;case 13:n.$message.warning("请先登录!"),n.$emit("login");case 15:case"end":return t.stop()}}),t)})))()}}},y=v,k=(i("e176"),i("2877")),O=Object(k["a"])(y,e,r,!1,null,"f5763ecc",null);t["default"]=O.exports},d81d:function(n,t,i){"use strict";var e=i("23e7"),r=i("b727").map,a=i("1dde"),o=i("ae40"),c=a("map"),s=o("map");e({target:"Array",proto:!0,forced:!c||!s},{map:function(n){return r(this,n,arguments.length>1?arguments[1]:void 0)}})},e176:function(n,t,i){"use strict";i("54fd")}}]);