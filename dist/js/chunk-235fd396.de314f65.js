(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-235fd396"],{"2eeb":function(n,t,i){"use strict";var e=i("1c8b"),r=i("5dfd").map,a=i("1ea7"),o=i("ff9c"),f=a("map"),c=o("map");e({target:"Array",proto:!0,forced:!f||!c},{map:function(n){return r(this,n,arguments.length>1?arguments[1]:void 0)}})},3041:function(n,t,i){"use strict";var e=i("4d40"),r=i.n(e);r.a},4194:function(n,t,i){"use strict";var e=i("1c8b"),r=i("5dfd").find,a=i("258f"),o=i("ff9c"),f="find",c=!0,s=o(f);f in[]&&Array(1)[f]((function(){c=!1})),e({target:"Array",proto:!0,forced:c||!s},{find:function(n){return r(this,n,arguments.length>1?arguments[1]:void 0)}}),a(f)},"4d40":function(n,t,i){},"93c6":function(n,t,i){"use strict";i.r(t);var e=function(){var n=this,t=n.$createElement,i=n._self._c||t;return i("div",{staticClass:"config",attrs:{flex:""}},[i("div",{staticClass:"head",attrs:{flex:""}},[i("svg-icon",{attrs:{name:"config"}}),i("b",[n._v("修改配置信息")])],1),i("div",{staticClass:"list",attrs:{flex:""}},[n._l(n.keys,(function(t){return i("float-input",{attrs:{name:t,value:n.info[t]||"",id:t,size:1,isArea:"describe"===t},on:{input:n.input}})})),i("label",{attrs:{flex:""}},[i("span",{class:{active:"img"===n.info.backgroundImg},on:{click:function(t){return n.changeBg("img")}}},[n._v("图片背景")]),i("span",{class:{active:"color"===n.info.backgroundImg},on:{click:function(t){return n.changeBg("color")}}},[n._v("彩色背景")]),i("span",{class:{active:"random"===n.info.backgroundImg},on:{click:function(t){return n.changeBg("random")}}},[n._v("随机")])]),i("div",{staticClass:"friends",attrs:{flex:""}},[n._l(n.info.friends,(function(t){return i("div",{key:t.id,staticClass:"item",attrs:{flex:""}},[i("float-input",{attrs:{name:"简介",value:t.summary,id:t.id,size:.85},on:{input:n.friendsSummary}}),i("float-input",{attrs:{name:"github名字",value:t.github,id:t.id,size:.85},on:{input:n.friendsGithub}}),i("float-input",{attrs:{name:"网站",value:t.site,id:t.id,size:.85},on:{input:n.friendsSite}}),i("single-button",{staticClass:"del-btn",attrs:{text:"删除"},nativeOn:{click:function(i){return n.friendsDel(t)}}})],1)})),i("loading-button",{attrs:{loading:!1,icon:"add",text:"添加",size:1.1},nativeOn:{click:function(t){return n.friendsNew(t)}}})],2)],2),i("loading-button",{attrs:{loading:n.updating,text:"上传",icon:"save"},nativeOn:{click:function(t){return n.commitConfig(t)}}})],1)},r=[],a=(i("4194"),i("fe59"),i("ecb4"),i("2eeb"),i("ea69"),i("e18c"),i("08ba"),i("af86"),i("19d5")),o=(i("6a61"),i("327b")),f=i("df3b");function c(n){if(Array.isArray(n))return Object(f["a"])(n)}i("f3dd"),i("0a51"),i("9b11"),i("98e0"),i("96db");function s(n){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(n))return Array.from(n)}var u=i("db29");function d(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(n){return c(n)||s(n)||Object(u["a"])(n)||d()}function g(n){if(Array.isArray(n))return n}function m(n,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(n)){var i=[],e=!0,r=!1,a=void 0;try{for(var o,f=n[Symbol.iterator]();!(e=(o=f.next()).done);e=!0)if(i.push(o.value),t&&i.length===t)break}catch(c){r=!0,a=c}finally{try{e||null==f["return"]||f["return"]()}finally{if(r)throw a}}return i}}function b(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function h(n,t){return g(n)||m(n,t)||Object(u["a"])(n,t)||b()}var p=i("44b8"),v=i("fa7d"),y=i("8e8da"),k=i("2a7d"),w={name:"Config",components:{SingleButton:k["a"],LoadingButton:y["a"],FloatInput:p["a"]},data:function(){return{updating:!1,info:{},keys:["name","describe","copyright","github","bilibili","email"]}},computed:{config:function(){return this._config()},gitUtil:function(){return this._gitUtil()}},watch:{config:{immediate:!0,deep:!0,handler:function(){this.info=JSON.parse(JSON.stringify(this.config)),this.info.friends.forEach((function(n,t){n.id=t}))}}},inject:["_config","_gitUtil"],methods:{input:function(n){this.info[n[0]]=n[1]},changeBg:function(n){this.info.backgroundImg=n},friendsSummary:function(n){var t=h(n,2),i=t[0],e=t[1];this.info.friends.find((function(n){return n.id===i})).summary=e},friendsGithub:function(n){var t=h(n,2),i=t[0],e=t[1];this.info.friends.find((function(n){return n.id===i})).github=e},friendsSite:function(n){var t=h(n,2),i=t[0],e=t[1];this.info.friends.find((function(n){return n.id===i})).site=e},friendsDel:function(n){this.info.friends.splice(this.info.friends.indexOf(n),1)},friendsNew:function(){this.info.friends.push({summary:"",github:"",site:"",id:Math.max.apply(Math,l(this.info.friends.map((function(n){return n.id}))))+1})},commitConfig:function(){var n=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var i,e,r,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!n.gitUtil){t.next=13;break}n.updating=!0,i=Object(a["a"])(n.keys);try{for(i.s();!(e=i.n()).done;)r=e.value,n.config[r]=n.info[r]}catch(f){i.e(f)}finally{i.f()}return n.config.backgroundImg=n.info.backgroundImg,n.config.friends=n.info.friends.map((function(n){var t={};for(var i in n)"id"!==i&&(t[i]=n[i]);return t})),t.next=8,n.gitUtil.updateJsonFile("config.json",n.config);case 8:o=t.sent,n.updating=!1,o[0]?n.$message.success("更新成功!"):n.$message.error(Object(v["c"])(o[1])),t.next=15;break;case 13:n.$message.warning("请先登录!"),n.$emit("login");case 15:case"end":return t.stop()}}),t)})))()}}},x=w,O=(i("3041"),i("9ca4")),S=Object(O["a"])(x,e,r,!1,null,"4253df18",null);t["default"]=S.exports}}]);